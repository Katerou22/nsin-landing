<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="assets/logo-t.png" />
    <title>nsin — Always be connected!</title>
    <meta
      name="description"
      content="nsin is a connectivity-first CDN that makes your website reachable from Iran and from abroad. Wherever your server is, nsin connects your users."
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html {
        scroll-behavior: smooth;
      }
      /* smooth anchor scrolling */

      @keyframes shine-rtl {
        0% {
          background-position: 200% 0;
        }
        100% {
          background-position: -200% 0;
        }
      }

      .shine-text {
        background: linear-gradient(
          90deg,
          #06b6d4 0%,
          #ffffff 40%,
          #ffffff 60%,
          #06b6d4 100%
        );
        background-size: 200% auto;
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shine-rtl 7s linear infinite;
      }

      @keyframes button-shine {
        0% {
          background-position: 200% 0;
        }
        100% {
          background-position: -200% 0;
        }
      }

      .animated-btn {
        background: linear-gradient(
          90deg,
          #3b82f6 0%,
          /* blue-500 */ #06b6d4 50%,
          /* cyan-400 */ #3b82f6 100%
        );
        background-size: 200% auto;
        animation: button-shine 3s linear infinite;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .animated-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(6, 182, 212, 0.6);
      }
    </style>
  </head>

  <body class="bg-black text-white">
    <!-- Header -->
    <header
      class="fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-md border-b border-white/10"
    >
      <div
        class="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between"
      >
        <a href="#top" class="flex items-center gap-3">
          <img
            src="assets/logo-t.png"
            alt="nsin logo"
            class="h-8 w-8 rounded"
          />
          <span class="font-semibold tracking-wide">nsin</span>
        </a>
        <nav class="flex items-center gap-6 text-sm text-gray-300">
          <a href="#what-is" class="hover:text-cyan-400">What is nsin</a>
          <a href="#waitlist" class="hover:text-cyan-400">Join the waitlist</a>
        </nav>
      </div>
    </header>

    <!-- Hero -->
    <section
      id="top"
      class="min-h-screen flex items-center bg-gradient-to-b from-black to-gray-900 pt-20"
    >
      <div
        class="max-w-7xl grid text-center grid-cols-1 mx-auto gap-12 items-center px-6"
      >
        <!-- Hero text -->
        <div class="flex flex-col justify-center items-center">
          <img src="assets/logo-t.png" alt="nsin" class="h-60 w-60 mb-4" />
          <h1 class="text-5xl md:text-6xl font-extrabold shine-text">
            Stay Online. Always.
          </h1>
          <p class="mt-6 text-lg text-gray-300 max-w-2xl">
            nsin is built to keep your website connected — no matter where your
            server is hosted or where your users are.
          </p>
        </div>

        <!-- Edge detector box -->
        <div
          id="ipBox"
          class="mt-2 inline-flex flex-col items-center rounded-xl border border-gray-700 px-6 py-4"
        >
          <div
            id="edgeMsg"
            class="mt-1 text-cyan-300 text-sm md:text-base"
            aria-live="polite"
          ></div>
        </div>

        <!-- CTA to scroll -->
        <div class="flex justify-center">
          <a
            href="#what-is"
            class="mt-2 inline-flex items-center gap-2 rounded-full px-5 py-3 border border-gray-700 hover:border-cyan-400 hover:text-cyan-400 transition"
            aria-label="Learn more about nsin"
          >
            Learn more
          </a>
        </div>
      </div>
    </section>

    <!-- What is nsin (Description) -->
    <section id="what-is" class="py-20 bg-gradient-to-b from-gray-900 to-black">
      <div class="max-w-5xl mx-auto px-6">
        <div class="text-center">
          <h2 class="text-3xl md:text-4xl font-bold">What is nsin?</h2>
          <p class="mt-4 text-gray-300 max-w-3xl mx-auto">
            nsin is a connectivity-focused CDN designed to solve one big
            problem: making sure your website works
            <span class="font-semibold">everywhere</span>. Whether your server
            is inside Iran or abroad, we route your visitors through our edge so
            they can always reach your site — fast, simple, and without
            barriers.
          </p>
        </div>

        <!-- 3-up feature-style blocks -->
        <div class="mt-12 grid md:grid-cols-3 gap-6">
          <div class="rounded-2xl border border-white/10 p-6 bg-white/5">
            <h3 class="font-semibold">Global &amp; Local Reach</h3>
            <p class="mt-2 text-gray-300 text-sm">
              From Iran to the rest of the world and back, nsin keeps your
              website accessible — no matter where it’s hosted.
            </p>
          </div>
          <div class="rounded-2xl border border-white/10 p-6 bg-white/5">
            <h3 class="font-semibold">Connectivity First</h3>
            <p class="mt-2 text-gray-300 text-sm">
              We focus on solving access issues. Traffic is passthrough from our
              edge to your origin — not caching, not security, just rock-solid
              reachability.
            </p>
          </div>
          <div class="rounded-2xl border border-white/10 p-6 bg-white/5">
            <h3 class="font-semibold">Simple &amp; Reliable</h3>
            <p class="mt-2 text-gray-300 text-sm">
              No extra setup or complexity — just a clear promise: your users
              will be able to reach your website from anywhere.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Waitlist -->
    <section
      id="waitlist"
      class="py-20 bg-gradient-to-b from-black to-gray-900"
    >
      <div class="max-w-3xl mx-auto px-6">
        <div class="text-center mb-8">
          <h2 class="text-3xl md:text-4xl font-bold">Join the waitlist</h2>
          <p class="mt-3 text-gray-300">
            Be the first to try nsin. Tell us a bit about your website and where
            users have trouble connecting — we’ll reach out when your region is
            ready.
          </p>
        </div>

        <form
          id="waitlistForm"
          class="space-y-5 rounded-2xl border border-white/10 bg-white/5 p-6"
          action="/waitlist"
          method="POST"
          novalidate
        >
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm mb-2" for="name">Name</label>
              <input
                id="name"
                name="name"
                type="text"
                required
                autocomplete="name"
                class="w-full rounded-lg bg-black/40 border border-gray-700 px-4 py-2 focus:outline-none focus:border-cyan-400"
              />
            </div>
            <div>
              <label class="block text-sm mb-2" for="email">Email</label>
              <input
                id="email"
                name="email"
                type="email"
                required
                autocomplete="email"
                class="w-full rounded-lg bg-black/40 border border-gray-700 px-4 py-2 focus:outline-none focus:border-cyan-400"
              />
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm mb-2" for="company">Company</label>
              <input
                id="company"
                name="company"
                type="text"
                required
                class="w-full rounded-lg bg-black/40 border border-gray-700 px-4 py-2 focus:outline-none focus:border-cyan-400"
              />
            </div>
            <div>
              <label class="block text-sm mb-2" for="phone">Phone</label>
              <input
                id="phone"
                name="phone"
                type="tel"
                required
                autocomplete="tel"
                class="w-full rounded-lg bg-black/40 border border-gray-700 px-4 py-2 focus:outline-none focus:border-cyan-400"
              />
            </div>
          </div>

          <div>
            <label class="block text-sm mb-2" for="desc"
              >Tell us about your use case</label
            >
            <textarea
              id="desc"
              name="desc"
              rows="4"
              required
              placeholder="Where are your users located (Iran/abroad)? Where is your origin hosted? Any specific regions with issues?"
              class="w-full rounded-lg bg-black/40 border border-gray-700 px-4 py-2 focus:outline-none focus:border-cyan-400"
            ></textarea>
          </div>

          <button
            type="submit"
            class="w-full md:w-auto rounded-full px-6 py-3 font-semibold animated-btn"
          >
            Join the waitlist
          </button>

          <p id="formMsg" class="text-sm mt-3" aria-live="polite"></p>
        </form>
      </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-white/10 bg-gray-900">
      <div
        class="max-w-7xl mx-auto px-6 py-10 grid md:grid-cols-3 gap-8 items-center"
      >
        <div class="flex items-center gap-3">
          <img
            src="assets/logo-t.png"
            alt="nsin logo"
            class="h-8 w-8 rounded"
          />
          <div>
            <div class="font-semibold">nsin</div>
            <div class="text-xs text-gray-400">Stay Online. Always.</div>
          </div>
        </div>

        <nav class="flex justify-center gap-6 text-sm text-gray-300">
          <a href="#what-is" class="hover:text-cyan-400">What is nsin</a>
          <a href="#waitlist" class="hover:text-cyan-400">Join the waitlist</a>
        </nav>

        <div class="text-right text-sm text-gray-500">
          &copy; <span id="year"></span> nsin. All rights reserved.
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script>
      // Edge location message
      (async function () {
        try {
          const res = await fetch("/edge", {
            cache: "no-store",
          });
          if (!res.ok) throw new Error("edge lookup failed");
          const { edge_ip } = await res.json();
          let msg = "";
          switch (edge_ip) {
            case "206.189.176.136":
              msg = "You're connected via our New York edge.";
              break;
            case "185.37.54.20":
              msg = "You're connected via our Tehran edge.";
              break;
            default:
              msg = "Edge location unavailable.";
          }
          document.getElementById("edgeMsg").textContent = msg;
        } catch (e) {
          const el = document.getElementById("edgeMsg");
          if (el) el.textContent = "Edge location unavailable.";
        }
      })();

      // Simple client-side required handling + demo submit (replace with real endpoint)
      document
        .getElementById("waitlistForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const form = e.currentTarget;
          const msgEl = document.getElementById("formMsg");

          if (!form.checkValidity()) {
            msgEl.textContent = "Please complete all required fields.";
            msgEl.className = "text-sm mt-3 text-red-400";
            return;
          }

          try {
            const data = Object.fromEntries(new FormData(form).entries());
            // Optional honeypot if you add <input name="hp_field" class="hidden">
            // data.hp_field = data.hp_field || "";

            const res = await fetch("/waitlist", {
              method: "POST",
              headers: { "Content-Type": "application/x-www-form-urlencoded" },
              body: new URLSearchParams(data),
            });

            if (!res.ok) throw new Error("Request failed");
            msgEl.textContent = "Thanks! You’ve been added to the waitlist.";
            msgEl.className = "text-sm mt-3 text-cyan-300";
            form.reset();
          } catch (err) {
            msgEl.textContent = "Something went wrong. Please try again.";
            msgEl.className = "text-sm mt-3 text-red-400";
          }
        });

      // Year in footer
      document.getElementById("year").textContent = new Date().getFullYear();
    </script>
  </body>
</html>
